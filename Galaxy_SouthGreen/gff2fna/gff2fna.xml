<tool id="gff2fna" name="gff2fna" version="2.1">
	<description>get sequences from reference and gff</description>
	<stdio>
		<exit_code range="1:" level="fatal" />
	</stdio>
	<command>
	source $__tool_directory__/module_load.txt;
	perl $__tool_directory__/gff3fna2gff32bed2fasta.pl $input.fields.path_gff $input.fields.path_ref $output_fna $output_bed -flank=$datatype_condition.flank -begin=$datatype_condition.begin -end=$datatype_condition.end
    </command>
	<inputs>
		<param name="input" type="select" label="Input Species" help="contains gff3 and genome">
			<options from_file="gff2fasta.loc">
				<column name="value" index="0"/>
				<column name="name" index="1"/>
				<column name="path_gff" index="2"/>
				<column name="path_ref" index="3"/>
			</options>
		</param>
		<conditional name="datatype_condition">
			<param type="select" name="flank" label="Flanking region">
				<option value="prom">five_prime_flanking_region</option>
				<option value="term">three_prime_flanking_region</option>
			</param>   		
			<when value="prom">
				<param type="integer" name="begin" help="negative integer" value="-100" label="Begin gap"/>				
				<param type="integer" name="end" help="negative integer" value="-1" label="End gap"/>
			</when>
			<when value="term">
				<param type="integer" name="begin" help="positive integer" value="1" label="Begin gap"/>	
				<param type="integer" name="end" help="positive integer" value="100" label="End gap"/>	        	
			</when>
   		</conditional>		
	</inputs>
	<outputs>
		<data format="bed" name="output_bed" label="${tool.name} on ${on_string} (bed)"/>
		<data format="fasta" name="output_fna" label="${tool.name} on ${on_string} (sequences)"/>
	</outputs>
	<help>
	

.. class:: infomark

**Program encapsulated in Galaxy by Southgreen**

.. class:: infomark

**gff2fna version 2.0, 2015**

-----	

==========
 Authors:
==========	

**Lorenzo J**

-----	

===========
 Overview:
===========	

Input GFF3 file::

	##gff-version 3
	ARATH01	TAIR10	gene	3631	5899	.	+	.	ID=AT1G01010;Name=AT1G01010;Note=NAC domain containing protein 1
	ARATH01	TAIR10	mRNA	3631	5899	.	+	.	ID=AT1G01010.1;Parent=AT1G01010;Dbxref=InterPro:IPR003441;Name=AT1G01010.1;Note=NAC domain containing protein 1;swissprot_alias=NAC1_ARATH;swissprot_desc=NAC domain-containing protein 1;swissprot_id=Q0WV96;type=protein_coding_gene
	ARATH01	TAIR10	polypeptide	3760	5630	.	+	.	ID=AT1G01010.1-Protein;Derives_from=AT1G01010.1;Name=AT1G01010.1
	ARATH01	TAIR10	exon	3631	3913	.	+	.	Parent=AT1G01010.1
	ARATH01	TAIR10	five_prime_UTR	3631	3759	.	+	.	Parent=AT1G01010.1
	ARATH01	TAIR10	CDS	3760	3913	.	+	0	Parent=AT1G01010.1,AT1G01010.1-Protein
	
	
Input ref file::

	>ARATH01
	CCCTAAACCCTAAACCCTAAACCCTAAACCTCTGAATCCTTAATCCCTAAATCCCTAAATCTTTAAATCCTACATCCAT
	GAATCCCTAAATACCTAATTCCCTAAACCCGAAACCGGTTTCTCTGGTTGAAAATCATTGTGTATATAATGATAATTTT
	ATCGTTTTTATGTAATTGCTTATTGTTGTGTGTAGATTTTTTAAAAATATCATTTGAGGTCAATACAAATCCTATTTCT
	TGTGGTTTTCTTTCCTTCACTTAGCTATGGATGGTTTATCTTCATTTGTTATATTGGATACAAGCTTTGCTACGATCTA
	CATTTGGGAATGTGAGTCTCTTATTGTAACCTTAGGGTTGGTTTATCTCAAGAATCTTATTAATTGTTTGGACTGTTTA
	TGTTTGGACATTTATTGTCATTCTTACTCCTTTGTGGAAATGTTTGTTCTATCAATTTATCTTTTGTGGGAAAATTATT
	TAGTTGTAGGGATGAAGTCTTTCTTCGTTGTTGTTACGCTTGTCATCTCATCTCTCAATGATATGGGATGGTCCTTTAG
	CATTTATTCTGAAGTTCTTCTGCTTGATGATTTTATCCTTAGCCAAAAGGATTGGTGGTTTGAAGACACATCATATCAA
	AAAAGCTATCGCCTCGACGATGCTCTATTTCTATCCTTGTAGCACACATTTTGGCACTCAAAAAAGTATTTTTAGATGT


Output gÃ¨ne fna file::

	>AT1G01010_ARATH
	AAATTATTAGATATACCAAACCAGAGAAAACAAATACATAATCGGAGAAATACAGATTACAGAGAGCGAGAGAGATCGACGGCGAAGCTCTTTACCCGGAAACCATTGAAATCGGACGGTTTAGTGAAAATGGAGGATCAAGTTGGGTTTGGGTTCCGTCCGAACGACGAGGAGCTCGTTGGTCACTATCTCCGTAACAAAATCGAAGGAAACACTAGCCGCGACGTTGAAGTAGCCATCAGCGAGGTCAACATCTGTAGCTACGATCCTTGGAACTTGCGCTGTAAGTTCCGAATTTTCTGAATTTCATTTGCAAGTAATCGATTTAGGTTTTTGATTTTAGGGTTTTTTTTTGTTTTGAACAGTCCAGTCAAAGTACAAATCGAGAGATGCTATGTGGTACTTCTTCTCTCGTAGAGAAAACAACAAAGGGAATCGACAGAGCAGGACAACGGTTTCTGGTAAATGGAAGCTTACCGGAGAATCTGTTGAGGTCAAGGACCAGTGGGGATTTTGTAGTGAGGGCTTTCGTGGTAAGATTGGTCATAAAAGGGTTTTGGTGTTCCTCGATGGAAGATACCCTGACAAAACCAAATCTGATTGGGTTATCCACGAGTTCCACTACGACCTCTTACCAGAACATCAGGTTTTCTTCTATTCATATATATATATATATATATATGTGGATATATATATATGTGGTTTCTGCTGATTCATAGTTAGAATTTGAGTTATGCAAATTAGAAACTATGTAATGTAACTCTATTTAGGTTCAGCAGCTATTTTAGGCTTAGCTTACTCTCACCAATGTTTTATACTGATGAACTTATGTGCTTACCTCCGGAAATTTTACAGAGGACATATGTCATCTGCAGACTTGAGTACAAGGGTGATGATGCGGACATTCTATCTGCTTATGCAATAGATCCCACTCCCGCTTTTGTCCCCAATATGACTAGTAGTGCAGGTTCTGTGGTGAGTCTTTCTCCATATACACTTAGCTTTGAGTAGGCAGATCAAAAAAGAGCTTGTGTCTACTGATTTGATGTTTTCCTAAACTGTTGATTCGTTTCAGGTCAACCAATCACGTCAACGAAATTCAGGATCTTACAACACTTACTCTGAGTATGATTCAGCAAATCATGGCCAGCAGTTTAATGAAAACTCTAACATTATGCAGCAGCAACCACTTCAAGGATCATTCAACCCTCTCCTTGAGTATGATTTTGCAAATCACGGCGGTCAGTGGCTGAGTGACTATATCGACCTGCAACAGCAAGTTCCTTACTTGGCACCTTATGAAAATGAGTCGGAGATGATTTGGAAGCATGTGATTGAAGAAAATTTTGAGTTTTTGGTAGATGAAAGGACATCTATGCAACAGCATTACAGTGATCACCGGCCCAAAAAACCTGTGTCTGGGGTTTTGCCTGATGATAGCAGTGATACTGAAACTGGATCAATGGTAAGCTTTTTTTACTCATATATAATCACAACCTATATCGCTTCTATATCTCACACGCTGAATTTTGGCTTTTAACAGATTTTCGAAGACACTTCGAGCTCCACTGATAGTGTTGGTAGTTCAGATGAACCGGGCCATACTCGTATAGATGATATTCCATCATTGAACATTATTGAGCCTTTGCACAATTATAAGGCACAAGAGCAACCAAAGCAGCAGAGCAAAGAAAAGGTTTAACACTCTCACTGAGAAACATGACTTTGATACGAAATCTGAATCAACATTTCATCAAAAAGATTTAGTCAAATGACCTCTAAATTATGAGCTATGGGTCTGCTTTCAGGTGATAAGTTCGCAGAAAAGCGAATGCGAGTGGAAAATGGCTGAAGACTCGATCAAGATACCTCCATCCACCAACACGGTGAAGCAGAGCTGGATTGTTTTGGAGAATGCACAGTGGAACTATCTCAAGAACATGATCATTGGTGTCTTGTTGTTCATCTCCGTCATTAGTTGGATCATTCTTGTTGGTTAAGAGGTCAAATCGGATTCTTGCTCAAAATTTGTATTTCTTAGAATGTGTGTTTTTTTTTGTTTTTTTTTCTTTGCTCTGTTTTCTCGCTCCGGAAAAGTTTGAAGTTATATTTTATTAGTATGTAAAGAAGAGAAAAAGGGGGAAAGAAGAGAGAAGAAAAATGCAGAAAATCATATATATGAATTGGAAAAAAGTATATGTAATAATAATTAGTGCATCGTTTTGTGGTGTAGTTTATATAAATAAAGTGATATATAGTCTTGTATAAG
	>AT1G01020_ARATH
	AGACCCGGACTCTAATTGCTCCGTATTCTTCTTCTCTTGAGAGAGAGAGAGAGAGAGAGAGAGAGAGAGCAATGGCGGCGAGTGAACACAGATGCGTGGGATGTGGTTTTAGGGTAAAGTCATTGTTCATTCAATACTCTCCGGGTAACATTCGTCTCATGAAATGCGTAAGATTTTTGTATTAATGGATCTTCTTTGACCCAATTAGGGTTTATAAGATTCTCTATTAAATTTCTTCAAAGTTTCCATCTTTGATCATATTGTTATATTTAGGGAAATTGCAAGGAAGTAGCAGATGAGTACATCGAGTGTGAACGCATGGTCTGTTTTAATCACTTTCTTTCCCTTTTTGGGTGTTTCCCTATTTCTTTCCAATTTTGGTTTTTGGTTCTTTAATTGTTTTCTTTGGCAGATTATTTTCATCGATTTAATCCTTCACAGACCAAAGGTATATAGACACGTCCTCTACAATGCAATTAATCCAGCAACTGTCAATATTCAGGTAAAAAACTATTTCAATTCAAGTTCTTGATTTCAAGCATTGCTAGTTCCTGTCTGATTCTAGCTCTCTTATCTTGAATTGATATTACAAACTTGTGGAAATATCTGGCTTTGAAAATCTTTTTCCATATATAGAAGTATCTTAGACCTCAAGCAACAAACTAATTTCCAAGTTTGGGGATATTGAGTAGTCTCTGATCCAATAAGAATTGTTGGGTTCTTTTTTTTTTTTTGTGTGTGTGTGTGCAGCATCTGTTGTGGAAGTTGGTCTTCGCCTATCTTCTTCTAGACTGTTGTATCCTTTTGTTTTATAATCTTTTACTATCAAAGTGTAGCTAGCAGATGTGTAGTTGGTGAGATTCATCGGCAAACTTATTTGAAAAGCCCTGAACTCATCATAGATAGAAGCTTGCTACTGAGAAAAAGTGATGAAGAATCGAGCTTTTCTGATAGCCCTGTTCTTCTATCTATAAAGGTTAGATCGTTTCTTTTTAATGGACTTAATTAGATTTTTTTTCCTTTAAGGTTTAAATGATTTAAGTCATTGAGATTGTTTAGAAAGGGTAATAATTTCGCATTTGAAACAGGTTCTGATTGGTGTCTTATCTGCAAACGCTGCATTTATCATCTCTTTTGCCATTGCGACTAAGGGTTTGCTAAATGAAGTTTCCAGGTGATTACTGATTCTTCTTCTTCTTAGTTCTTATTATGAGTTTTTCATCAAAGATCTCAGACTTCTGTCACCTGAAGATTGTTTATGTATAATTTTTTTTAAAAACTTTGCAGAAGAAGAGAGATTATGTTGGGGATATTCATCTCTAGTTACTTCAAGATATTTCTGCTTGCGATGTTGGTATGTTGTAGCTTTACCTCTCACTTAATTCCTAATATTGAAGTTCCAAACTTCTTAAGCATTCCATAAATCATGCACTAAAGTTTCTTGTATTGATTAAACATGGTGTTATGTCTCTTTGCTCAAAAATAGAGAATCTTTGTTATTACAGGTATGGGAATTCCCAATGTCAGTGATTTTTTTTGTCGATATACTTCTCTTAACATCAAACTCCATGGCTCTTAAAGGTCAGACCTTCAAAATGTTCTCAATGCAAATTGTTTTTTGTTGTTGTTATTTTGGAATCTCACAATGCAAGTTTGTCTTTAAACCAGTGATGACTGAATCAACAATGACCAGATGCATAGCCGTATGCTTAATCGCGCACTTGATTAGATTCTTGGTGGGTCAGATTTTTGAGCCGACAATATTTTTGATACAAATTGGATCTCTGTTGCAATATATGTCTTATTTTTTCAGAATCGTATGATCCCATCAGCTTCCAGTATAGTCTTTTGGTTTGAAGATAAGAGAAACCTTTACATTATTATACCATACTGTATTTTATGACTAAGCCAAATATTATCGCCACCAAAAATTGAATTAGACCTTACTAAAATATCAAAAGTTAATTGTTGGTCTGTTACTCTGTGCGGGCGGATATAACTCAACCACCTACAATTATTTGCCCTACAAAAACCTTGTTCCTCACGATATCGTCGCTCCATCTTTCTTGGAATGCTGGGCATATGTGGTGGTACCCTCCTTGGAATGGTGGGCATATGTGGAACCCTCCTATGAATGTTGGAGATATGTGGGACTCTCCTATGAATGTGGGGCATCAACACATTGTTGCAACACCAAGTGAATGTCATAGGAAAGACGAGGAGACGGTTGAAGCCGAAGTTGAGGCTCCCCTTGATTCTTATCCGGAGAATGCTACTACCATGGCGAGAAAGCAACCAAAGGCAAGTTAAATATCTGAAAATGTTGAGAATTCTGATGATAACTAAAGCATTGAAACGAATATTGGGTTAACTTAATAATACTTATGCTTATTTTCAAGTCTCGTTTTGTTTTAATTGACTACACTATACTTCTTAGATCCGTTATGTATATATAATTTGACCTCTTGAACCAGAATGATCCAGCCAATGATGGAGATGAACAATAAGAAGCCAATGATCATGTTCTTGAGATAGTTCCACTGTGAATTCCTTTGACTCATCTCCTCTAAAACAATCCAGTTATGATGCTTAGTTGGAGCTTTCTTCTTCAGCCATTTTCCATTCCCACCCGTTTTTCTATAGACATATCACCTGCAACCCCAAGTCCATCATAATCCACAGTTGAAGATGTATTGTTTGAGATTTTGTATCGAAGTCATGTTACGCAGTGACATTGTTAACACCTTTTCATTTCCTTGCAAATGCAACTTTGGTTGCTAAATGAATCTTTGAGCCAACACCCTTTACTC

-----

.. class:: warningmark

**No support website**

	</help>

</tool>
